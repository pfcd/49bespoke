!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"function"==typeof define&&define.cmd?define(function(t,e,i){a(t("jquery"))}):a(jQuery)}(function(r){"use strict";function i(t,e){this.$target=t,this.options=r.extend({},i.DEFAULTS,this.$target.data("pagination"),"object"==typeof e&&e),this.init()}i.VERSION="1.4.0",i.DEFAULTS={total:1,current:1,length:10,size:2,prev:"&lt;",next:"&gt;",click:function(t){}},i.prototype={init:function(){var e;this.options.total<1&&(this.options.total=1),this.options.current<1&&(this.options.current=1),this.options.length<1&&(this.options.length=1),this.options.current>Math.ceil(this.options.total/this.options.length)&&(this.options.current=Math.ceil(this.options.total/this.options.length)),this.options.size<1&&(this.options.size=1),"function"==typeof this.options.ajax?(e=this).options.ajax({current:e.options.current,length:e.options.length,total:e.options.total},function(t){return e.refresh(t)},e.$target):this.render(),this.onClick()},render:function(){var t=this.options,e=this.$target,i=(e.empty(),e.append('<li><a herf="javascript:void(0)" data-page="prev">'+t.prev+"</a></li>"),this.getPages());1<i.start&&(e.append('<li><a herf="javascript:void(0)" data-page="1">1</a></li>'),e.append("<li><span>...</span></li>"));for(var a=i.start;a<=i.end;a++)e.append('<li><a herf="javascript:void(0)" data-page="'+a+'">'+a+"</a></li>");i.end<Math.ceil(t.total/t.length)&&(e.append("<li><span>...</span></li>"),e.append('<li><a herf="javascript:void(0)" data-page="'+Math.ceil(t.total/t.length)+'">'+Math.ceil(t.total/t.length)+"</a></li>")),e.append('<li><a herf="javascript:void(0)" data-page="next">'+t.next+"</a></li>"),e.find('li>a[data-page="'+t.current+'"]').parent().addClass("active"),t.current<=1&&e.find('li>a[data-page="prev"]').parent().addClass("disabled"),t.current>=Math.ceil(t.total/t.length)&&e.find('li>a[data-page="next"]').parent().addClass("disabled")},getPages:function(){this.$target;var t=this.options,e=t.current-t.size,i=t.current+t.size;return t.current>=Math.ceil(t.total/t.length)-t.size&&(e-=t.current-Math.ceil(t.total/t.length)+t.size),t.current<=t.size&&(i+=t.size-t.current+1),{start:e=e<1?1:e,end:i=i>Math.ceil(t.total/t.length)?Math.ceil(t.total/t.length):i}},onClick:function(){var a=this.$target,n=this.options,s=this;a.off("click"),a.on("click",">li>a[data-page]",function(t){if(!r(this).parent().hasClass("disabled")&&!r(this).parent().hasClass("active")){var e=r(this).data("page");switch(e){case"prev":1<n.current&&n.current--;break;case"next":n.current<Math.ceil(n.total)&&n.current++;break;default:e=parseInt(e),isNaN(e)||(n.current=parseInt(e))}var i={current:n.current,length:n.length,total:n.total};"function"==typeof n.ajax?n.ajax(i,function(t){return s.refresh(t)},a):s.render(),n.click(i,a)}})},refresh:function(t){"object"==typeof t&&(t.total&&(this.options.total=t.total),t.length)&&(this.options.length=t.length),this.render()}},r.fn.pagination=function(t){return this.each(function(){r(this).data("pagination",new i(r(this),t))}),this}});